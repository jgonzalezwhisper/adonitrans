jQuery(document).ready(function(r){r(document).on("click",".adonitrans-tabs-nav li",function(a){var e=r(this).data("tab");r(".adonitrans-tabs-nav li").removeClass("active"),r(this).addClass("active"),r(".tab-content").removeClass("active"),r("#"+e).addClass("active")}),r(document).on("click","#add-franja-row",function(a){a.preventDefault();var a=r("#wrap-franjas .franja").length,e=r(".franja").last().clone();e.find("label").attr("for","franja-"+a),e.find("input").val("").attr("id","franja-"+a),e.find(".remove-payment-row").remove(),r("#wrap-franjas").append(e)}),r(document).on("click",".remove-franja-row",function(a){a.preventDefault();var a=r("#wrap-franjas"),e=r(this).closest(".franja");1<a.find(".franja").length?e.remove():Swal.fire({icon:"warning",title:"No se puede eliminar",text:"Debe haber al menos una franja horaria configurada",confirmButtonText:"Entendido"})}),r(document).on("click","#add-tarifa-row",function(a){a.preventDefault();var a=r("#wrap-tarifas .row-tarifa").length,e=r(".row-tarifa").last().clone();e.find("label").attr("for","franja-"+a),e.find("input").val("").attr("id","franja-"+a),r("#wrap-tarifas").append(e)}),r(document).on("click",".remove-tarifa-row",function(a){a.preventDefault();var a=r("#wrap-tarifas"),e=r(this).closest(".row-tarifa");1<a.find(".row-tarifa").length?e.remove():Swal.fire({icon:"warning",title:"No se puede eliminar",text:"Debe haber al menos una tarifa configurada",confirmButtonText:"Entendido"})}),r(document).on("focusin","#ajustes-generales",function(){r(this).validate({rules:{"franjas_horas_trabajo[][nombre]":{required:!0,minlength:3,maxlength:50},"franjas_horas_trabajo[][hora_inicio]":{required:!0,time24:!0},"franjas_horas_trabajo[][hora_fin]":{required:!0,time24:!0}},messages:{"franjas_horas_trabajo[][nombre]":{required:"El nombre de la franja es obligatorio.",minlength:"El nombre debe tener al menos 3 caracteres.",maxlength:"El nombre no puede tener más de 50 caracteres."},"franjas_horas_trabajo[][hora_inicio]":{required:"La hora de inicio es obligatoria.",time24:"Ingrese una hora válida en formato 24 horas (HH:mm)."},"franjas_horas_trabajo[][hora_fin]":{required:"La hora de fin es obligatoria.",time24:"Ingrese una hora válida en formato 24 horas (HH:mm)."}},submitHandler:function(a){a=new FormData(a);a.append("action","update_generales"),r.ajax({url:administracionAjax.ajaxurl,type:"POST",data:a,contentType:!1,processData:!1,beforeSend:function(){r("body").addClass("actloader")},success:function(a){r("body").removeClass("actloader"),a.success?Swal.fire({title:"¡Éxito!",text:a.data.message,icon:"success",confirmButtonText:"Aceptar"}).then(a=>{a.isConfirmed&&(r("#ajustes-generales")[0].reset(),r.ajax({url:administracionAjax.plugin_url+"includes/parts/panel/administracion.php",method:"GET",success:function(a){r("#informacion").html(a)},error:function(){r("#informacion").html("<p>Error al cargar el contenido. Intenta nuevamente.</p>")}}))}):Swal.fire({title:"Algo ha ocurrido!",text:a.data.message,icon:"error",confirmButtonText:"Aceptar"})},error:function(){r("body").removeClass("actloader"),Swal.fire({title:"¡Error!",text:"Hubo un problema al procesar el formulario. Por favor intenta nuevamente.",icon:"error",confirmButtonText:"Aceptar"})}})}})}),r(document).on("submit","#ajustes-generales",function(a){a.preventDefault(),r(this).valid()&&r(this).submit()})});
//# sourceMappingURL=administracion.js.map
