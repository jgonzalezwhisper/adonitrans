{"version":3,"file":"panel.js","sources":["panel.js"],"sourcesContent":["jQuery(document).ready(function($) {\r\n\r\n    $.validator.addMethod(\r\n        \"checkPassword\",\r\n        function(value, element) {\r\n            // Validaciones individuales\r\n            const hasNumber = /\\d/.test(value); // Contiene al menos un número\r\n            const hasSpecialChar = /[*#=\\-_.\\/!¿?]/.test(value); // Contiene al menos un carácter especial\r\n            const hasUpperCase = /[A-Z]/.test(value); // Contiene al menos una mayúscula\r\n            const lengthValid = value.length >= 8 && value.length <= 15; // Longitud entre 8 y 15 caracteres\r\n\r\n            // Actualización de la lista de requisitos visualmente\r\n            $(\"li:contains('Entre 8 y 15 carácteres')\").toggleClass(\r\n                \"tachado\",\r\n                lengthValid\r\n            );\r\n            $(\"li:contains('Un número')\").toggleClass(\"tachado\", hasNumber);\r\n            $(\"li:contains('Un carácter especial (*#=-_./!¿?)')\").toggleClass(\r\n                \"tachado\",\r\n                hasSpecialChar\r\n            );\r\n            $(\"li:contains('Una mayúscula')\").toggleClass(\"tachado\", hasUpperCase);\r\n\r\n            // Retorna verdadero si todos los requisitos se cumplen\r\n            return (\r\n                this.optional(element) ||\r\n                (hasNumber && hasSpecialChar && hasUpperCase && lengthValid)\r\n            );\r\n        },\r\n        \"La contraseña debe cumplir con los requisitos.\"\r\n    );\r\n\r\n    // Agregar método personalizado para validación de tiempo en formato 24 horas\r\n    $.validator.addMethod(\r\n        'time24',\r\n        function(value, element) {\r\n            return this.optional(element) || /^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(value);\r\n        },\r\n        'Por favor, ingrese una hora válida en formato 24 horas (HH:mm).'\r\n    );\r\n\r\n    var ps = new PerfectScrollbar('#informacion', {\r\n        wheelSpeed: 2,\r\n        wheelPropagation: true,\r\n        minScrollbarLength: 20\r\n    });\r\n\r\n    $(document).on('click', '.acordeon-header', function(event) {\r\n        event.preventDefault();\r\n        let body = $(this).next('.acordeon-body');\r\n        let icon = $(this).find('i');\r\n        body.slideToggle(function() {\r\n            if (body.is(':visible')) {\r\n                icon.removeClass('icofont-plus').addClass('icofont-minus');\r\n            } else {\r\n                icon.removeClass('icofont-minus').addClass('icofont-plus');\r\n            }\r\n        });\r\n    });\r\n\r\n    $(\"#lateral ul li[data-action]\").on(\"click\", function() {\r\n\r\n        $(\"#lateral ul li\").removeClass('active');\r\n        $(this).addClass('active');\r\n\r\n        var data_action = $(this).data(\"action\");\r\n        if (data_action === \"logout\") {\r\n            return;\r\n        }\r\n        $('body').addClass('actloader');\r\n        var fileUrl = panelAjax.plugin_url + \"includes/parts/panel/\" + data_action + \".php\";\r\n\r\n        $.ajax({\r\n            url: fileUrl,\r\n            method: \"POST\",\r\n            data: {\r\n                action: 'render_html_panel',\r\n            },\r\n            success: function(response) {\r\n                $('body').removeClass('actloader');\r\n                $(\"#informacion\").html(response);\r\n\r\n                if (data_action == 'empresa') {\r\n                    initEmpresas();\r\n                }\r\n                if (data_action == 'vehiculo') {\r\n                    initVehiculos();\r\n                }\r\n                if (data_action == 'usuario') {\r\n                    initUsuarios();\r\n                }\r\n            },\r\n            error: function() {\r\n                $('body').removeClass('actloader');\r\n                $(\"#informacion\").html(\"<p>Error al cargar el contenido. Intenta nuevamente.</p>\");\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\nfunction checkPassword(value) {\r\n    let hasNumber = /\\d/.test(value);\r\n    let hasSpecialChar = /[*\\-_.\\/!¿?]/.test(value);\r\n    let hasUpperCase = /[A-Z]/.test(value);\r\n    let lengthValid = value.length >= 8 && value.length <= 15;\r\n\r\n    // Actualizar la UI de los requisitos de la contraseña\r\n    jQuery(\"li:contains('Entre 8 y 15 carácteres')\").toggleClass(\"tachado\", lengthValid);\r\n    jQuery(\"li:contains('Un número')\").toggleClass(\"tachado\", hasNumber);\r\n    jQuery(\"li:contains('Un carácter especial (*-_./!¿?)')\").toggleClass(\"tachado\", hasSpecialChar);\r\n    jQuery(\"li:contains('Una mayúscula')\").toggleClass(\"tachado\", hasUpperCase);\r\n\r\n    // Devolver el resultado de la validación\r\n    return hasNumber && hasSpecialChar && hasUpperCase && lengthValid;\r\n}\r\n\r\nwindow.initUsuarios = function initUsuarios() {\r\n    jQuery('#table-usuarios').DataTable({\r\n        language: {\r\n            url: 'https://cdn.datatables.net/plug-ins/1.11.5/i18n/es-ES.json'\r\n        }\r\n    });\r\n    jQuery('#select_rolesusuario, #sel_empresa_asociada').select2({\r\n        placeholder: \"Selecciona un rol\",\r\n        allowClear: true,\r\n        width: '100%'\r\n    });\r\n}\r\n\r\nwindow.initVehiculos = function initVehiculos() {\r\n    jQuery('#table-vehiculos').DataTable({\r\n        language: {\r\n            url: 'https://cdn.datatables.net/plug-ins/1.11.5/i18n/es-ES.json'\r\n        }\r\n    });\r\n\r\n    jQuery('#tipo_de_vehiculo, #propietario_de_vehiculo, #conductor_del_vehiculo').select2({\r\n        placeholder: \"Selecciona un Valor\",\r\n        allowClear: true,\r\n        width: '100%'\r\n    });\r\n}\r\n\r\nwindow.initEmpresas = function initEmpresas() {\r\n    jQuery('#table-empresas').DataTable({\r\n        language: {\r\n            url: 'https://cdn.datatables.net/plug-ins/1.11.5/i18n/es-ES.json'\r\n        }\r\n    });\r\n\r\n    jQuery('#administradores_empresa').select2({\r\n        placeholder: \"Selecciona un Valor\",\r\n        allowClear: true,\r\n        width: '100%'\r\n    });\r\n}"],"names":["checkPassword","value","let","hasNumber","test","hasSpecialChar","hasUpperCase","lengthValid","length","jQuery","toggleClass","document","ready","$","validator","addMethod","element","this","optional","PerfectScrollbar","wheelSpeed","wheelPropagation","minScrollbarLength","on","event","preventDefault","body","next","icon","find","slideToggle","is","removeClass","addClass","fileUrl","data_action","data","panelAjax","plugin_url","ajax","url","method","action","success","response","html","initEmpresas","initVehiculos","initUsuarios","error","window","DataTable","language","select2","placeholder","allowClear","width"],"mappings":"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"}